@extend layout

.content
  .login-container
    h1.title
      = title

    @if error
      p= error

    form.login-form(action='/login', method='POST')
      .form-group
        label.form-label(for='username') Usuario
        input.form-input(type='text', name='username', id='username', placeholder='Usuario', required)

      .form-group
        label.form-label(for='password') Contraseña
        input.form-input(type='password', name='password', id='password', placeholder='Contraseña', required)
        button#mostrarContrasena(type='button')
          i.material-symbols-rounded visibility_off

      .form-group
        button.submit-button(type='submit') Iniciar sesión

    p ¿No tienes una cuenta?
      a.register-link(href='/registro') Regístrate

    //- Script en línea para mostrar/ocultar contraseña
    script.
      const passwordInput = document.getElementById('password');
      const mostrarContrasenaBtn = document.getElementById('mostrarContrasena');

      mostrarContrasenaBtn.addEventListener('click', () => {
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          mostrarContrasenaBtn.innerHTML = '<i class="material-symbols-rounded">visibility</i>';
        } else {
          passwordInput.type = 'password';
          mostrarContrasenaBtn.innerHTML = '<i class="material-symbols-rounded">visibility_off</i>';
        }
      });
